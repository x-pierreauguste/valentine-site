:root{
    --bg1:#fff0f6;
    --bg2:#f3f0ff;
    --card:#ffffff;
    --text:#1f2937;
    --muted:#6b7280;
    --primary:#ff4d8d;
    --primary2:#ff7aa8;
    --danger:#111827;
    --shadow: 0 18px 60px rgba(0,0,0,.12);
    --radius: 22px;
  }
  
  *{ box-sizing: border-box; }
  
  html, body { height: 100%; }
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--text);
    background:
      radial-gradient(1200px 700px at 20% 10%, var(--bg2), transparent 60%),
      radial-gradient(1200px 700px at 80% 90%, var(--bg1), transparent 60%),
      linear-gradient(135deg, #fff, #fff);
    overflow-x:hidden;
  }
  
  .shell{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:28px 16px;
    gap:16px;
  }
  
  .top{
    width:min(720px, 94vw);
    display:flex;
    justify-content:flex-end;
  }
  
  .badge{
    font-size:12px;
    color:rgba(17,24,39,.8);
    background: rgba(255,255,255,.7);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0,0,0,.06);
    padding:8px 12px;
    border-radius:999px;
  }
  
  .card{
    width:min(720px, 94vw);
    background: rgba(255,255,255,.78);
    backdrop-filter: blur(14px);
    border: 1px solid rgba(0,0,0,.06);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    position:relative;
    overflow:hidden;
  }
  
  .screen{
    display:none;
    padding:26px 22px 22px;
    animation: fadeUp .35s ease both;
  }
  .screen.active{ display:block; }
  
  @keyframes fadeUp{
    from{ opacity:0; transform: translateY(8px); }
    to{ opacity:1; transform: translateY(0); }
  }
  
  .title{
    margin:0;
    font-size: clamp(28px, 4vw, 42px);
    letter-spacing:-.02em;
  }
  .title.small{ font-size: clamp(22px, 3.2vw, 34px); }
  
  .subtitle{
    margin:10px 0 0;
    color: var(--muted);
    font-size: 16px;
    line-height: 1.5;
  }
  
  .body{
    margin:14px 0 0;
    font-size:16px;
    line-height:1.55;
  }
  
  .divider{
    height:1px;
    background: rgba(0,0,0,.08);
    margin:18px 0;
  }
  
  .btn{
    appearance:none;
    border: 1px solid rgba(0,0,0,.10);
    background: rgba(255,255,255,.8);
    color: var(--text);
    padding: 12px 16px;
    border-radius: 14px;
    font-weight: 650;
    font-size: 15px;
    cursor: pointer;
    transition: transform .08s ease, opacity .2s ease, box-shadow .2s ease;
    box-shadow: 0 10px 26px rgba(0,0,0,.08);
  }
  .btn:hover{ opacity:.95; }
  .btn:active{ transform: translateY(1px) scale(.99); }
  
  .btn.primary{
    border: none;
    background: linear-gradient(135deg, var(--primary), var(--primary2));
    color: white;
  }
  .btn.danger{
    border:none;
    background: rgba(17,24,39,.92);
    color:white;
  }
  
  .hint{
    margin:12px 0 0;
    font-size: 13px;
    color: rgba(17,24,39,.55);
  }
  
  .button-row{
    margin-top: 18px;
    display:flex;
    gap:12px;
    align-items:center;
    position:relative;
    min-height: 54px;
  }
  
  .heart-zone{
    margin-top:16px;
    height: 220px;
    border-radius: 18px;
    background: radial-gradient(800px 260px at 30% 20%, rgba(255,77,141,.12), transparent 60%),
                radial-gradient(800px 260px at 70% 80%, rgba(124,58,237,.10), transparent 60%),
                rgba(255,255,255,.55);
    border: 1px solid rgba(0,0,0,.06);
    position:relative;
    overflow:hidden;
  }
  
  .floating-heart{
    position:absolute;
    width: 44px;
    height: 44px;
    border-radius: 14px;
    display:grid;
    place-items:center;
    background: rgba(255,255,255,.8);
    border: 1px solid rgba(0,0,0,.06);
    box-shadow: 0 14px 34px rgba(0,0,0,.10);
    user-select:none;
    cursor:pointer;
    transform: translateZ(0);
    animation: floaty 2.6s ease-in-out infinite;
  }
  @keyframes floaty{
    0%,100%{ transform: translateY(0); }
    50%{ transform: translateY(-8px); }
  }
  
  .progress{
    margin-top:14px;
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .progress-label{
    font-size: 13px;
    color: rgba(17,24,39,.60);
    display:flex;
    justify-content:space-between;
  }
  .progress-bar{
    height: 10px;
    border-radius: 999px;
    background: rgba(0,0,0,.08);
    overflow:hidden;
  }
  .progress-fill{
    height:100%;
    width:0%;
    border-radius: 999px;
    background: linear-gradient(90deg, var(--primary), #a78bfa);
    transition: width .2s ease;
  }
  
  .signature{
    margin-top: 14px;
    color: rgba(17,24,39,.72);
    font-weight: 700;
  }
  
  .footer{
    width:min(720px, 94vw);
    display:flex;
    justify-content:center;
    padding: 6px 0 0;
  }
  
  .tiny{
    font-size:12px;
    color: rgba(17,24,39,.45);
  }
  
  .confetti{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:none;
  }
  
  .bg-hearts{
    position:fixed;
    inset:-20px;
    pointer-events:none;
    background-image:
      radial-gradient(circle at 15% 20%, rgba(255,77,141,.18) 0 2px, transparent 3px),
      radial-gradient(circle at 70% 35%, rgba(167,139,250,.18) 0 2px, transparent 3px),
      radial-gradient(circle at 40% 75%, rgba(255,77,141,.14) 0 2px, transparent 3px);
    filter: blur(.2px);
    opacity:.9;
  }
  